(this["webpackJsonpsend-money"]=this["webpackJsonpsend-money"]||[]).push([[0],{113:function(e,n){},114:function(e,n){},133:function(e,n,t){},135:function(e,n,t){},136:function(e,n,t){"use strict";t.r(n);var r=t(13),c=t.n(r),a=t(64),s=t.n(a),i=(t(72),t(11)),o=(t(73),t(1)),l=t.n(o),u=t(3),d=t(65),b=t(18),j="http://devnet.solana.com",p=new b.a(j,"confirmed"),h=new d.a("https://www.sollet.io",j);function f(){return(f=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.connect();case 2:return console.log("wallet publicKey",null===h||void 0===h||null===(n=h.publicKey)||void 0===n?void 0:n.toBase58()),e.abrupt("return",[p,h]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(n){var t,r,c,a,s,i,o,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:5e8,e.prev=1,console.log("starting sendMoney"),r=new b.b(n),e.next=6,p.getAccountInfo(h.publicKey);case 6:return c=e.sent,console.log("wallet data size",null===c||void 0===c?void 0:c.data.length),e.next=10,p.getAccountInfo(r);case 10:return a=e.sent,console.log("receiver data size",null===a||void 0===a?void 0:a.data.length),s=b.c.transfer({fromPubkey:h.publicKey,toPubkey:r,lamports:t}),e.next=15,O(s);case 15:return i=e.sent,e.next=18,g(h,i);case 18:return o=e.sent,e.next=21,p.confirmTransaction(o,"singleGossip");case 21:u=e.sent,console.log("money sent",u),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.warn("Failed",e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)}function O(e){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(l.a.mark((function e(n){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new b.d).add(n),t.feePayer=h.publicKey,e.next=5,p.getRecentBlockhash();case 5:return r=e.sent,console.log("blockhash",r),t.recentBlockhash=r.blockhash,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,n){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(l.a.mark((function e(n,t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.signTransaction(t);case 2:return r=e.sent,console.log("sign transaction"),e.next=6,p.sendRawTransaction(r.serialize());case 6:return c=e.sent,console.log("send raw transaction"),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(133);var w=t(5),k=function(e){var n=e.didSendMoney,t=Object(r.useState)(0),c=Object(i.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),d=Object(i.a)(o,2),b=d[0],j=d[1],p=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(b,a);case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(w.jsx)("form",{className:"send-container",children:Object(w.jsxs)("div",{className:"send-inputs",children:[Object(w.jsx)("div",{className:"send-top-left",children:Object(w.jsx)("label",{htmlFor:"amount",children:"Amount (lamports)"})}),Object(w.jsx)("div",{className:"send-mid-left",children:Object(w.jsx)("label",{htmlFor:"address",children:"Address"})}),Object(w.jsx)("div",{className:"send-top-right",children:Object(w.jsx)("input",{type:"text",value:a,onChange:function(e){s(e.target.value?Number(e.target.value):0)}})}),Object(w.jsx)("div",{className:"send-mid-right",children:Object(w.jsx)("input",{type:"text",value:b,onChange:function(e){j(e.target.value?e.target.value.toString():"")}})}),Object(w.jsx)("div",{className:"send-bottom-right",children:Object(w.jsx)("button",{className:"send-buttons",onClick:p,children:"Submit"})})]})})},S=(t(135),function(e){var n=e.transaction;return Object(w.jsx)("div",{className:"trans-item",children:Object(w.jsx)("ul",{className:"trans-meta",children:function(){var e,t=null===(e=n.signature)||void 0===e?void 0:e.toString(),r=n.confirmedTransaction.meta,c=n.confirmedTransaction.transaction,a=0;return r&&(a=r.preBalances[0]-r.postBalances[0]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Tx:"})," \xa0",t]},t+"signature"),Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Fee:"}),"\xa0",null===r||void 0===r?void 0:r.fee]},t+"fee"),Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Sent Amount:"}),"\xa0",a]},t+"amount"),Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Sender:"}),"\xa0",c.instructions[0].keys[0].pubkey.toBase58()]},t+"sender"),Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Sender Balance:"}),"\xa0",null===r||void 0===r?void 0:r.postBalances[0]]},t+"sender-balance"),Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Receiver:"}),"\xa0",c.instructions[0].keys[1].pubkey.toBase58()]},t+"receiver"),Object(w.jsxs)("li",{children:[Object(w.jsx)("label",{children:"Receiver Balance:"}),"\xa0",null===r||void 0===r?void 0:r.postBalances[1]]},t+"receiver-balance")]})}()})})}),N=function(e){var n=e.transactions;return Object(w.jsx)("div",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(w.jsx)(S,{transaction:e},e.signature)}))})},B=t(9),F=function e(n,t){Object(B.a)(this,e),this.signature=n,this.confirmedTransaction=t};function T(e,n){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(l.a.mark((function e(n,t){var r,c,a,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getConfirmedSignaturesForAddress2(t);case 2:r=e.sent,c=new Array,a=0;case 5:if(!(a<r.length)){e.next=14;break}return s=r[a].signature,e.next=9,n.getConfirmedTransaction(s);case 9:(i=e.sent)&&(o=new F(s,i),c.push(o));case 11:a++,e.next=5;break;case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(r.useState)(),n=Object(i.a)(e,2),t=n[0],a=n[1],s=c.a.useRef(),o=c.a.useRef();return Object(r.useEffect)((function(){(function(){return f.apply(this,arguments)})().then((function(e){var n=Object(i.a)(e,2),t=n[0],r=n[1];s.current=t,o.current=r,r.publicKey&&T(t,r.publicKey).then((function(e){a(e)}))}))}),[]),Object(w.jsxs)("div",{className:"app-body",children:[Object(w.jsxs)("div",{className:"app-body-top",children:[Object(w.jsx)("h3",{children:"Send Money on Solana"}),Object(w.jsx)(k,{didSendMoney:function(){T(s.current,o.current.publicKey).then((function(e){a(e)}))}})]}),Object(w.jsx)("div",{className:"app-body-mid",children:Object(w.jsx)(N,{transactions:t})})]})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,137)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(K,{})}),document.getElementById("root")),A()},72:function(e,n,t){},73:function(e,n,t){},74:function(e,n){},78:function(e,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.6a8e9678.chunk.js.map